---
.colors: &colors
  yellow:         &yellow           '#F5DDA9'
  darkblue:       &darkblue         '#2F7194'
  red:            &red              '#ec7070'
  skyblue:        &skyblue          '#97c3d0'
  darkgreen:      &darkgreen        '#48675A'
  lightbrown:     &lightbrown       '#C6BFA2'
  orange:         &orange           '#EC9F7E'
  lightgreen:     &lightgreen       '#AFD8BC'
  grey:           &grey             '#3D4244'

predictions:
  based_on: heatmap
  select:
    data: VPINN/predictions

solution:
  based_on: heatmap
  select:
    data: VPINN/u_exact

error:
  based_on: heatmap
  select:
    prediction: VPINN/predictions
    solution: VPINN/u_exact
  transform:
    - sub: [!dag_tag prediction, !dag_tag solution]
    - np.abs: [!dag_prev ]
      tag: data

loss:
  based_on: loss
  helpers:
    set_scales:
      y: log

test_functions:
  based_on: heatmap
  select:
    data:
      path: VPINN/test_function_values
      transform:
        - .isel: [!dag_prev , {n_x: !range [3], n_y: !range [3]}]
  row: n_x
  col: n_y
  cmap:
    continuous: true
    from_values:
      0: *darkblue
      0.5: *red
      1: *yellow

# Plot the test function derivatives in x direction
d1_test_functions_x:
  based_on: test_functions
  select:
    data:
      path: VPINN/d1_test_function_values
      transform:
        - .isel: [ !dag_prev , { n_x: !range [ 3 ], n_y: !range [ 3 ], idx: 0} ]

# Plot the test function derivatives in y direction
d1_test_functions_y:
  based_on: test_functions
  select:
    data:
      path: VPINN/d1_test_function_values
      transform:
        - .isel: [ !dag_prev , { n_x: !range [ 3 ], n_y: !range [ 3 ], idx: 1} ]
